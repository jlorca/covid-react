{"ast":null,"code":"var _jsxFileName = \"/Users/jesuslorcaluque/eclipse-j2ee-workspace/design-react/src/UsersTable.js\";\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport AuthenticationService from \"./AuthenticationService\";\nimport { CircularProgress, Fade, Snackbar, Button, Grid, Modal } from \"@material-ui/core\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport NewUser from \"./NewUser\"; // const useStyles = makeStyles((theme) => ({\n//   paper: {\n//     position: \"absolute\",\n//     width: 400,\n//     backgroundColor: theme.palette.background.paper,\n//     border: \"2px solid #000\",\n//     boxShadow: theme.shadows[5],\n//     padding: theme.spacing(2, 4, 3),\n//   },\n// }));\n\nclass UsersTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      loading: true,\n      openSnackbar: false,\n      showNewUserModal: false\n    };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    await fetch(\"http://localhost:8801/design/users/getAllUsers\", {\n      headers: {\n        Authorization: AuthenticationService.createBasicAuthToken(\"jesus\", \"12345\")\n      }\n    }).then(res => res.json()).then(result => {\n      console.log(\"data = \" + result);\n      this.setState({\n        users: result,\n        loading: false,\n        openSnackbar: false\n      });\n    }, error => {\n      this.setState({\n        users: [],\n        loading: false,\n        openSnackbar: true\n      });\n    });\n  } // const res = await fetch(\"http://localhost:8801/design/users/getAllUsers\");\n  //   console.log(\"res = \", res);\n  //   try {\n  //     const result = await res.json();\n  //     console.log(\"result = \", result);\n  //     this.setState({\n  //       rows: result,\n  //     });\n  //   } catch (Exception) {\n  //     console.log(\"result = \", Exception);\n  //   }\n\n\n  insertUser() {\n    fetch(\"http://localhost:8801/design/users/createUser\", {\n      method: \"POST\",\n      headers: {\n        Authorization: AuthenticationService.createBasicAuthToken(\"jesus\", \"12345\"),\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username: \"new2@mail.com\",\n        firstName: \"new2\",\n        lastName: \"ls2\"\n      })\n    }).then(res => res.json()).then(result => {\n      console.log(\"data = \" + result);\n      this.loadData();\n    }, error => {// Do nothing\n    });\n  }\n\n  render() {\n    const classes = makeStyles({\n      table: {\n        minWidth: 650\n      }\n    });\n    const body = /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      id: \"simple-modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    }, \"Text in a modal\"), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"simple-modal-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }, \"Duis mollis, est non commodo luctus, nisi erat porttitor ligula.\"));\n\n    const handleCloseSnackbar = (event, reason) => {\n      if (reason === \"clickaway\") {\n        return;\n      }\n\n      this.setState({\n        openSnackbar: false\n      });\n    };\n\n    const addUserClickHandler = () => {\n      //this.insertUser();\n      this.setState({\n        showNewUserModal: true\n      });\n    };\n\n    const handleCloseNewUserModal = () => {\n      this.setState({\n        showNewUserModal: false\n      });\n    };\n\n    return /*#__PURE__*/React.createElement(TableContainer, {\n      component: Paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Fade, {\n      in: this.state.loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Snackbar, {\n      open: this.state.openSnackbar,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      onClose: handleCloseSnackbar,\n      severity: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, \"Something went wrong in the backend!\")), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-start\",\n      alignItems: \"flex-start\",\n      spacing: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: addUserClickHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, \"Add User\"))), /*#__PURE__*/React.createElement(Table, {\n      className: classes.table,\n      \"aria-label\": \"simple table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    }, \"Id\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }\n    }, \"Last Name\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }\n    }, this.state.users.map(user => /*#__PURE__*/React.createElement(TableRow, {\n      key: user.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }, user.id), /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }, user.username), /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }, user.firstName), /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }, user.lastName))))), /*#__PURE__*/React.createElement(Modal, {\n      open: this.state.showNewUserModal,\n      onClose: handleCloseNewUserModal,\n      \"aria-labelledby\": \"simple-modal-title\",\n      \"aria-describedby\": \"simple-modal-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }\n    }, body));\n  }\n\n}\n\nexport default UsersTable;\n\nfunction Alert(props) {\n  return /*#__PURE__*/React.createElement(MuiAlert, Object.assign({\n    elevation: 6,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 10\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/jesuslorcaluque/eclipse-j2ee-workspace/design-react/src/UsersTable.js"],"names":["React","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","AuthenticationService","CircularProgress","Fade","Snackbar","Button","Grid","Modal","MuiAlert","NewUser","UsersTable","Component","constructor","props","state","users","loading","openSnackbar","showNewUserModal","componentDidMount","loadData","fetch","headers","Authorization","createBasicAuthToken","then","res","json","result","console","log","setState","error","insertUser","method","body","JSON","stringify","username","firstName","lastName","render","classes","table","minWidth","paper","handleCloseSnackbar","event","reason","addUserClickHandler","handleCloseNewUserModal","map","user","id","Alert"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport AuthenticationService from \"./AuthenticationService\";\nimport {\n  CircularProgress,\n  Fade,\n  Snackbar,\n  Button,\n  Grid,\n  Modal,\n} from \"@material-ui/core\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport NewUser from \"./NewUser\";\n\n// const useStyles = makeStyles((theme) => ({\n//   paper: {\n//     position: \"absolute\",\n//     width: 400,\n//     backgroundColor: theme.palette.background.paper,\n//     border: \"2px solid #000\",\n//     boxShadow: theme.shadows[5],\n//     padding: theme.spacing(2, 4, 3),\n//   },\n// }));\n\nclass UsersTable extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      users: [],\n      loading: true,\n      openSnackbar: false,\n      showNewUserModal: false,\n    };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    await fetch(\"http://localhost:8801/design/users/getAllUsers\", {\n      headers: {\n        Authorization: AuthenticationService.createBasicAuthToken(\n          \"jesus\",\n          \"12345\"\n        ),\n      },\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          console.log(\"data = \" + result);\n          this.setState({\n            users: result,\n            loading: false,\n            openSnackbar: false,\n          });\n        },\n        (error) => {\n          this.setState({\n            users: [],\n            loading: false,\n            openSnackbar: true,\n          });\n        }\n      );\n  }\n  // const res = await fetch(\"http://localhost:8801/design/users/getAllUsers\");\n  //   console.log(\"res = \", res);\n  //   try {\n  //     const result = await res.json();\n  //     console.log(\"result = \", result);\n  //     this.setState({\n  //       rows: result,\n  //     });\n  //   } catch (Exception) {\n  //     console.log(\"result = \", Exception);\n  //   }\n\n  insertUser() {\n    fetch(\"http://localhost:8801/design/users/createUser\", {\n      method: \"POST\",\n      headers: {\n        Authorization: AuthenticationService.createBasicAuthToken(\n          \"jesus\",\n          \"12345\"\n        ),\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        username: \"new2@mail.com\",\n        firstName: \"new2\",\n        lastName: \"ls2\",\n      }),\n    })\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          console.log(\"data = \" + result);\n          this.loadData();\n        },\n        (error) => {\n          // Do nothing\n        }\n      );\n  }\n\n  render() {\n    const classes = makeStyles({\n      table: {\n        minWidth: 650,\n      },\n    });\n\n    const body = (\n      <div className={classes.paper}>\n        <h2 id=\"simple-modal-title\">Text in a modal</h2>\n        <p id=\"simple-modal-description\">\n          Duis mollis, est non commodo luctus, nisi erat porttitor ligula.\n        </p>\n      </div>\n    );\n\n    const handleCloseSnackbar = (event, reason) => {\n      if (reason === \"clickaway\") {\n        return;\n      }\n\n      this.setState({ openSnackbar: false });\n    };\n\n    const addUserClickHandler = () => {\n      //this.insertUser();\n      this.setState({ showNewUserModal: true });\n    };\n\n    const handleCloseNewUserModal = () => {\n      this.setState({ showNewUserModal: false });\n    };\n\n    return (\n      <TableContainer component={Paper}>\n        <Fade in={this.state.loading}>\n          <CircularProgress />\n        </Fade>\n        <Snackbar\n          open={this.state.openSnackbar}\n          autoHideDuration={6000}\n          onClose={handleCloseSnackbar}\n        >\n          <Alert onClose={handleCloseSnackbar} severity=\"error\">\n            Something went wrong in the backend!\n          </Alert>\n        </Snackbar>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"flex-start\"\n          spacing={3}\n        >\n          <Grid item xs={1}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={addUserClickHandler}\n            >\n              Add User\n            </Button>\n          </Grid>\n        </Grid>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Id</TableCell>\n              <TableCell>Username</TableCell>\n              <TableCell>First Name</TableCell>\n              <TableCell>Last Name</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {this.state.users.map((user) => (\n              <TableRow key={user.id}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {user.id}\n                </TableCell>\n                <TableCell component=\"th\" scope=\"row\">\n                  {user.username}\n                </TableCell>\n                <TableCell component=\"th\" scope=\"row\">\n                  {user.firstName}\n                </TableCell>\n                <TableCell component=\"th\" scope=\"row\">\n                  {user.lastName}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Modal\n          open={this.state.showNewUserModal}\n          onClose={handleCloseNewUserModal}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        >\n          {body}\n        </Modal>\n      </TableContainer>\n    );\n  }\n}\n\nexport default UsersTable;\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n"]},"metadata":{},"sourceType":"module"}